<section ng-controller="MessagesController" ng-init="findMessages()">
  <div class="page-header">
    <h1>Messages</h1>
  </div>
  <div class="row">
    <div class="col-xs-3">
      <div ng-repeat="messages in messages">
        <div ng-repeat="message in messages.messages">
          <div ng-bind="message.content"></div>
        </div>
        <div ng-if="messages.recipient._id === authentication.user.id">
          <div ng-bind="messages.sender.displayName"></div>
        </div>
        <div ng-if="messages.sender._id === authentication.user.id">
          <div ng-bind="messages.recipient.displayName"></div>
        </div>
      </div>
    </div>
    <div class="col-xs-3">
    <form name="questionForm" class="form-horizontal" ng-submit="create()" novalidate>
        <div class="form-group">
          <label for="content">Content</label>
          <textarea name="content" ng-model="content" id="content" class="form-control" cols="30" rows="10" placeholder="Content"></textarea>
        </div>
        <div class="form-group">
          <input type="submit" class="btn btn-default">
        </div>
      </form>
    </div>
  </div>

  <!--<div class="row settings-view">
    <div ui-view></div>
  </div>-->
  <div class="alert alert-warning text-center" ng-if="messages.$resolved && !messages.length">
    No messages yet, why don't you <a ui-sref="mentorSearch">find a mentor</a>?
  </div>
</section>
