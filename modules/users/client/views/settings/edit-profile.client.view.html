<section ng-controller="EditProfileController">
    <div class="container">
      <div class="row">
        <div class="col-sm-3">
          <section ng-controller="ChangeProfilePictureController">
              <form class="signin form-horizontal">
                <fieldset>
                  <div class="form-group text-center">
                    <img ng-src="{{imageURL}}" alt="{{user.displayName}}" class="img-thumbnail img-circle user-profile-picture">
                  </div>
                  <div class="text-center form-group" ng-hide="uploader.queue.length">
                    <span class="btn btn-default btn-file">
                        Select Image <input type="file" nv-file-select uploader="uploader">
                    </span>
                  </div>
                  <div class="text-center form-group" ng-show="uploader.queue.length">
                    <button class="btn btn-primary" ng-click="uploadProfilePicture();">Upload</button>
                    <button class="btn btn-default" ng-click="cancelUpload();">Cancel</button>
                  </div>
                  <div ng-show="success" class="text-center text-success">
                    <strong>Profile Picture Changed Successfully</strong>
                  </div>
                  <div ng-show="error" class="text-center text-danger">
                    <strong ng-bind="error"></strong>
                  </div>
                </fieldset>
              </form>
          </section>
        </div>
        <div class="row">
          <form name="userForm" ng-submit="updateUserProfile(userForm.$valid)" class="signin" autocomplete="off">

              <div class="row">
                  <md-content class="col-sm-8">
                      <div class="row">
                          <div class="col-sm-12">
                              <md-input-container>
                                <label>Firstname</label>
                                <input ng-model="user.firstName" size="50">
                              </md-input-container>
                          </div>
                      </div>
                      <div class="row">
                          <div class="col-sm-12">
                            <md-input-container>
                              <label>Lastname</label>
                              <input ng-model="user.lastName" size="50">
                            </md-input-container>
                          </div>
                      </div>
                      <div class="row">
                          <div class="col-sm-12">
                            <md-input-container>
                              <label>Location</label>
                              <input ng-model="user.profile.location" size="50">
                            </md-input-container>
                          </div>
                      </div>
                  </md-content>
                </div>

              <div class="row panel panel-default">
                  <div class="col-sm-6">
                      <md-input-container>
                        <label>Description</label>
                        <textarea ng-model="user.profile.description" md-maxlength="150" rows="3"></textarea>
                      </md-input-container>
                  </div>
                  <md-content class="col-sm-6">
                      <!-- put helps with stuff here -->
                  </md-content>
              </div>

              <div class="row panel panel-default">
                <label class="col-xs-12">Experience</label>
                  <section ng-repeat="exp in user.profile.experience">
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>Company</label>
                        <input ng-model="exp.company" size="50">
                      </md-input-container>
                  </div>
                  <div class="col-xs-12">
                      <md-input>
                        <label>From</label>
                        <md-datepicker ng-model="expD.sdt[$index].dt" ng-change="exp.startDate = expD.sdt[$index].dt.toISOString()" md-placeholder="Enter date"></md-datepicker>
                      </md-input>
                      <md-input>
                        <label>To</label>
                        <md-datepicker ng-model="expD.edt[$index].dt" ng-change="exp.endDate = expD.edt[$index].dt.toISOString()" md-placeholder="Enter date"></md-datepicker>
                      </md-input>
                  </div>
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>Description</label>
                        <input ng-model="exp.description" size="50">
                      </md-input-container>
                  </div>
                  </section>
                  <md-button ng-click="addNewExperience()" class="md-raised">Add New experience</md-button>
              </div>

              <div class="row panel panel-default">
                  <label class="col-xs-12">Education</label>
                  <div ng-repeat="edu in user.profile.education">
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>School</label>
                        <input ng-model="edu.schoolName" size="50">
                      </md-input-container>
                  </div>
                  <div class="col-xs-12">
                      <md-input>
                        <label>From</label>
                        <md-datepicker ng-model="eduD.sdt[$index].dt" ng-change="edu.startDate = eduD.sdt[$index].dt.toISOString()" md-placeholder="Enter date"></md-datepicker>
                      </md-input>
                      <md-input>
                        <label>To</label>
                        <md-datepicker ng-model="eduD.edt[$index].dt" ng-change="edu.endDate = eduD.edt[$index].dt.toISOString()" md-placeholder="Enter date"></md-datepicker>
                      </md-input>
                  </div>
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>Course Name</label>
                        <input ng-model="edu.courseTitle" size="50">
                      </md-input-container>
                  </div>
                  </div>
                  <md-button ng-click="addNewEducation()" class="md-raised">Add New Education</md-button>
              </div>

              <div class="row panel panel-default">
                  <label class="col-xs-12">Awards</label>
                  <div np-repeat="awd in user.profile.awards">
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>Title</label>
                        <input ng-model="awd.title" size="50">
                      </md-input-container>
                  </div>
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>Issuer</label>
                        <input ng-model="awd.issuer" size="50">
                      </md-input-container>
                  </div>
                  <div class="col-xs-12">
                      <md-input>
                        <label>Date</label>
                        <md-datepicker ng-model="awardD.sdt[$index].dt" ng-change="awd.endDate = awardD.sdt[$index].dt.toISOString()" md-placeholder="Enter date"></md-datepicker>
                      </md-input>
                  </div>
                  <div class="col-xs-12">
                      <md-input-container>
                        <label>Description</label>
                        <input ng-model="awd.description" size="100">
                      </md-input-container>
                  </div>
                  </div>
                  <md-button ng-click="addNewAward()" class="md-raised">Add New Award</md-button>
              </div>

              <div class="row panel panel-default">
                  <label class="col-xs-12">Interests</label>
                  <div ng-repeat="activity in user.profile.interests">
                  <div class="col-xs-3">
                      <md-input-container>
                        <label>Interest</label>
                        <input ng-model="activity.interest" size="50">
                      </md-input-container>
                  </div>
                  </div>
                  <md-button ng-click="addNewInterest()" class="md-raised">Add New Interest</md-button>
              </div>

              <div class="row panel panel-default">
                  <label class="col-xs-12">Links</label>
                  <div ng-repeat="link in user.profile.links">
                  <div class="col-xs-3">
                      <md-input-container>
                        <label>Link</label>
                        <input ng-model="link.url" size="50">
                      </md-input-container>
                  </div>
                  </div>
                  <md-button ng-click="addNewLink()" class="md-raised">Add New Link</md-button>
              </div>

              <div class="row">
                <div class="text-center form-group">
                  <button type="submit" class="btn btn-primary">Save Profile</button>
                </div>
                <div ng-show="success" class="text-center text-success">
                  <strong>Profile Saved Successfully</strong>
                </div>
                <div ng-show="error" class="text-center text-danger">
                  <strong ng-bind="error"></strong>
                </div>
              </div>
          </form>
        </div>
    </div>
   </div>
</section>
